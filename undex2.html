<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="estilos.css" />
    <title>Document</title>
  </head>
  <body>
    <h2>Pok√©mones</h2>
    <input type="text" id="nombre" placeholder="Buscar por nombre" />
    <button id="buscar">Buscar</button>
    <div id="galeria"></div>
    <br />
    <button id="anterior">Anterior</button>
    <span id="pagina">1</span>
    <button id="siguiente">Siguiente</button>

    <script>
      let pagina = 0;
      async function mostrarPokemones() {
        document.getElementById("galeria").innerHTML = " ";
        const res = await fetch(
          `https://pokeapi.co/api/v2/pokemon?limit=20&offset=${pagina * 20}`);
        const datos = await res.json();
        const galeria = document.getElementById("galeria");
        galeria.innerHTML = "";

        for (let p of datos.results) {
          const r = await fetch(p.url);
          const detalle = await r.json();
          galeria.innerHTML += `
          <div><img src="${detalle.sprites.front_default}" alt="${p.name}"><p>${p.name}</p></div>`;}
        document.getElementById("pagina").textContent = pagina + 1;}

      document.getElementById("siguiente").onclick = function () {
        pagina++;
        mostrarPokemones();};

      document.getElementById("anterior").onclick = function () {
        if (pagina > 0) {
          pagina--;
          mostrarPokemones();}
        };

      document.getElementById("buscar").onclick = async function () {
        const nombre = document.getElementById("nombre").value.toLowerCase();
        try {
          const res = await fetch(
            `https://pokeapi.co/api/v2/pokemon/${nombre}`);

          const p = await res.json();
          document.getElementById("galeria").innerHTML = `<div><img src="${p.sprites.front_default}" alt="${p.name}"><p>${p.name}</p></div> `;
          document.getElementById("pagina").textContent = " ";
        } catch {"error"; }};
      mostrarPokemones();
    </script>
  </body>
</html>
